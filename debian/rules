#!/usr/bin/make -f
NEO_MAJOR = 24
NEO_MINOR = 39
NEO_BUILD = 31294.12
build_id = 31294
build_hf_id = 12


export DEB_BUILD_MAINT_OPTIONS	= hardening=+all
export DEB_CPPFLAGS_MAINT_STRIP = -D_FORTIFY_SOURCE=3

%:
	dh $@ --builddir build/

override_dh_auto_configure:
	dh_auto_configure -- \
		-DCMAKE_BUILD_TYPE=Release \
		-DNEO_OCL_VERSION_MAJOR=$(NEO_MAJOR) -DNEO_OCL_VERSION_MINOR=$(NEO_MINOR) -DNEO_VERSION_BUILD=$(NEO_BUILD) \
		-DNEO_VERSION_BUILD=${build_id} -DNEO_VERSION_HOTFIX=${build_hf_id} \
		-DSUPPORT_DG1=TRUE \
		-DL0_INSTALL_UDEV_RULES=1 \
		-DNEO_ENABLE_i915_PRELIM_DETECTION=TRUE \
		-DNEO_ENABLE_I915_PRELIM_DETECTION=TRUE \
		-DNEO_DISABLE_MITIGATIONS=TRUE \
		-DNEO_ENABLE_XE_EU_DEBUG_SUPPORT=TRUE \
		-DNEO_ENABLE_XE_PRELIM_DETECTION=TRUE \
		-Wno-dev

override_dh_install:
	dh_install
